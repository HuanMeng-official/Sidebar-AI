# Sidebar AI

> Расширение для Chrome на Manifest V3, которое добавляет в боковую панель браузера чат-интерфейс с ИИ, настраиваемыми API-эндпоинтами, моделями и дизайном в стиле APPLE.

[English Version](README.md) | [中文版本](README.zh-CN.md) | [Versión en Español](README.es.md) | [Version Française](README.fr.md) | [日本語版](README.ja.md) | [русский язык](README.ru.md)

## Особенности
```
project/
├── manifest.json
├── background.js
├── sidebar.html
├── sidebar.css
├── sidebar.js
├── icons/
│   ├── icon16.png
│   ├── icon48.png
│   └── icon128.png
├── _locales/
│   ├── en/
│   │   └── messages.json
│   └── zh_CN/
│       └── messages.json
```


### Основной функционал
- **Интеграция в боковую панель**: Нативная реализация через Side Panel API Manifest V3
- **Чат-интерфейс ИИ**: Режим реального времени с потоковыми ответами
- **Многоязычная поддержка**: Полная интернационализация (i18n) на английском, китайском, испанском, французском, японском и русском
- **Постоянное хранилище**: История диалогов сохраняется в локальном хранилище

### Настройка API
- **Пользовательские эндпоинты**: Любые REST-совместимые сервисы вроде OpenAI
- **Выбор модели**: Поддержка разных архитектур ИИ
- **Управление аутентификацией**: Безопасное хранение API-ключей
- **Контроль «температуры»**: От 0.0 до 1.0 — степень креативности ответов

### Управление диалогами
- **Сессионная история**: Контекст сохраняется в пределах активной сессии
- **Архив чатов**: Полная история с метками времени
- **Переключение между диалогами**: Быстрый переход между контекстами
- **Выборочное удаление**: Удаление отдельных записей без потери остального

### UI/UX
- **Адаптивный макет**: Оптимизирован под любые размеры окна
- **Тёмная тема**: Автоматическое переключение по системным настройкам
- **Микро-анимации**: Плавные переходы на кубик-безье
- **Доступность**: Соответствие WCAG, семантическая вёрстка

## Архитектура

### Manifest V3
- **Service Worker**: Жизненный цикл расширения
- **Side Panel API**: Изолированный контекст боковой панели
- **Storage API**: Синхронизация настроек и асинхронное хранилище диалогов
- **Host Permissions**: Явные разрешения для кросс-доменных запросов

### Безопасность
- **Изоляция учётных данных**: Ключи шифруются средствами Chrome
- **Content Security Policy**: Жёсткий CSP, защита от XSS
- **Санитизация ввода**: Экранирование HTML-сущностей
- **Rate Limiting**: Клиентское ограничение частоты запросов

### Производительность
- **Ленивая загрузка**: Ресурсы подгружаются по мере необходимости
- **Управление памятью**: Сбор мусора и очистка старых диалогов
- **Делегирование событий**: Минимизация обработчиков
- **Виртуальный скроллинг**: Эффективная отрисовка больших списков

## Установка

### Для разработки
1. Клонируйте репозиторий
2. Перейдите в `chrome://extensions/`
3. Включите «Режим разработчика»
4. Нажмите «Загрузить распакованное» и выберите папку проекта
5. Закрепите иконку расширения на панели

### Требуемая конфигурация
- **URL эндпоинта**: Действующий REST-адрес для чат-комплишена
- **Токен**: Bearer-токен авторизации
- **Идентификатор модели**: Имя модели, поддерживаемое эндпоинтом

## Руководство пользователя

### Базовые операции
1. **Открыть чат**: Клик по иконке расширения
2. **Настроить API**: Шестерёнка → вкладка настроек
3. **Отправить сообщение**: Ввод текста и Enter
4. **Новый диалог**: Кнопка «+» для чистого контекста

### Продвинутые возможности
- **История**: Панель со списком всех чатов
- **Загрузить старый диалог**: Продолжить разговор из истории
- **Удалить выборочно**: Корзина на конкретной записи
- **Тема**: Автоматическое переключение светлой/тёмной

## Локализация

### Поддерживаемые языки
- Английский
- Китайский (упрощённый)
- Испанский
- Французский
- Японский
- Русский

### Фреймворк
- **JSON-файлы сообщений**: Каталоги `messages.json`
- **Динамическое переключение**: Определяется на лету
- **Резервный язык**: Английский при отсутствии перевода

## Совместимость

### Браузеры
- **Google Chrome** 114+ (Manifest V3)
- **Microsoft Edge** (Chromium)
- **Brave** (Manifest V3)
- **Opera** (Chromium)

### Системные требования
- **ОС**: Windows 10+, macOS 10.15+, Linux с GTK
- **ОЗУ**: ≥ 4 ГБ
- **Диск**: ≈ 50 МБ под расширение и кэш

## Конфиденциальность

### Сбор данных
- **Никакой аналитики**: Телеметрия отсутствует
- **Обработка локально**: Всё в рамках браузера
- **Без внешних зависимостей**: Сторонние сервисы не используются
- **Прозрачность**: Пользователь явно контролирует поток данных

### Хранение
- **Настройки**: Chrome Sync
- **Диалоги**: Локальное хранилище с политикой удаления
- **Кэш**: Автоочистка

## Дорожная карта

### Планируется
- **Мультимодельность**: Одновременная работа с несколькими ИИ
- **Экспорт**: JSON/Markdown/PDF
- **Шаблоны промптов**: Быстрые команды
- **Голос**: Speech-to-text и наоборот

### Технические улучшения
- **WebAssembly**: Ускорение клиентских вычислений
- **Офлайн**: Кэширование через Service Worker
- **WCAG 2.1 AA**: Полное соответствие
- **Мониторинг**: Сбор метрик в реальном времени

## Контрибьютинг

### Workflow
1. Форк → feature-ветка
2. Код по стандартам проекта
3. Тесты на всех платформах
4. PR с подробным описанием

### Стандарты
- **ES6+**: async/await, модули
- **CSS**: BEM + CSS-переменные
- **Безопасность**: Валидация входов, экранирование выходов
- **Lighthouse**: Оценки ≥ 90

## Лицензия

MIT — см. файл [LICENSE](LICENSE).

## Поддержка

Вопросы и баги — в разделе Issues на GitHub. Пул-реквесты и дискуссии приветствуются.